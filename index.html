<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BULAVIN - LYRIC MOBILE</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:ital,wght@1,900&display=swap');

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        body {
            background: #000;
            color: #fff;
            font-family: 'Inter', sans-serif;
            height: 100vh;
            display: flex;
            align-items: center; 
            justify-content: center;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
            cursor: none;
            /* Общая перспектива для эффекта наклона */
            perspective: 1500px;
        }

        #lyric-box {
            width: 85%;
            max-width: 400px; /* Ограничение под ширину телефона */
            display: flex;
            flex-direction: column;
            gap: 12px;
            /* Наклон всей коробки с текстом внутрь */
            transform: rotateY(-15deg) rotateX(5deg);
            text-align: left;
        }

        .line {
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
            gap: 8px;
        }

        .word {
            /* Уменьшенный размер для мобилок */
            font-size: clamp(1.4rem, 7vw, 2.2rem);
            font-style: italic;
            text-transform: uppercase;
            letter-spacing: -1px;
            opacity: 0;
            /* Вылет из глубины */
            transform: translateZ(150px) translateX(-20px);
            filter: blur(15px);
            transition: all 0.35s cubic-bezier(0.23, 1, 0.32, 1);
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.15);
        }

        .word.visible {
            opacity: 1;
            transform: translateZ(0) translateX(0);
            filter: blur(0);
            animation: glitch-mobile 0.25s ease-out;
        }

        @keyframes glitch-mobile {
            0% { text-shadow: 2px 0 #ff0000, -2px 0 #00ffff; transform: scale(1.1); }
            100% { text-shadow: 0 0 10px rgba(255, 255, 255, 0.3); transform: scale(1); }
        }

        .hint {
            position: fixed;
            bottom: 20px;
            width: 100%;
            text-align: center;
            font-size: 8px;
            letter-spacing: 4px;
            opacity: 0.15;
            text-transform: uppercase;
            pointer-events: none;
        }
    </style>
</head>
<body>

<div id="lyric-box"></div>
<div class="hint">TAP TO START</div>

<script>
    const fullText = `Я уже по уши в лапше, открой мне душу киса
Я хочу засыпать спокойно, нахуй мне актрисы
Я слепо верю в чистое, сам как монета чистая 
Если захочешь меня ёбнуть, хоть налей игристого 
Перед тем как меня завалить окутай лаской 
Расскажи мне сказку, разочаруй в прекрасном 
Докажи мне, что не ошибался 
Детка, параноику не больно обжигаться 
Можешь смеяться, похуй я давно предвидел всё что будет дальше 
Мозг мне не врет, я знаю, плюс я помню запах фальши 
Хуйню не скрыть за мэйкап, слезы это не хайлайтер 
Крутой газглайтинг, это говорить что я газлайтер 
Напомни мне какой я, я могу ещё хуже 
Только начни, и вся хуйня с меня выйдет наружу 
Самый хуевый парень, буду хуевыем мужем 
Мне так сказали те, кому моя кровь это ужин 
Ты красивая очень, скажи мне сколько это стоит, е
Я через чур простой, я не хочу заёбов, е
Что для других любовь, ты назовешь простоем, е
Твой бизнес не простой, там ничего святого нет 
Перед тем как меня завалить окутай лаской 
Расскажи мне сказку, разочаруй в прекрасном 
Докажи мне, что не ошибался 
Детка, параноику не больно обжигаться
Перед тем как меня завалить окутай лаской 
Расскажи мне сказку, разочаруй в прекрасном 
Докажи мне, что не ошибался 
Детка, параноику не больно обжигаться`;

    const lyricBox = document.getElementById('lyric-box');
    const linesArr = fullText.split('\n').filter(line => line.trim() !== '');
    
    let groups = [];
    for (let i = 0; i < linesArr.length; i += 4) {
        groups.push(linesArr.slice(i, i + 4));
    }

    let currentGroupIndex = 0;
    let currentWordIndex = 0;
    let allWordsInGroup = [];

    function renderGroup(index) {
        lyricBox.innerHTML = '';
        allWordsInGroup = [];
        currentWordIndex = 0;

        if (index >= groups.length) {
            lyricBox.innerHTML = '<div class="line"><span class="word visible" style="font-size: 1.5rem">BULAVIN SYSTEM</span></div>';
            return;
        }

        groups[index].forEach(lineText => {
            const lineDiv = document.createElement('div');
            lineDiv.classList.add('line');
            
            lineText.trim().split(/\s+/).forEach(w => {
                const span = document.createElement('span');
                span.classList.add('word');
                span.innerText = w;
                lineDiv.appendChild(span);
                allWordsInGroup.push(span);
            });
            lyricBox.appendChild(lineDiv);
        });
    }

    function trigger() {
        if (currentWordIndex < allWordsInGroup.length) {
            allWordsInGroup[currentWordIndex].classList.add('visible');
            currentWordIndex++;
        } else {
            currentGroupIndex++;
            renderGroup(currentGroupIndex);
        }
    }

    // Обработка клика и тапа
    window.addEventListener('mousedown', (e) => {
        // Чтобы не срабатывало дважды на мобилах
        if (e.pointerType === 'mouse' || !window.ontouchstart) trigger();
    });

    window.addEventListener('touchstart', (e) => {
        e.preventDefault();
        trigger();
    }, { passive: false });

    // Пробел для компа
    window.addEventListener('keydown', e => { if(e.code === 'Space') { e.preventDefault(); trigger(); } });

    renderGroup(0);
</script>
</body>
</html>
